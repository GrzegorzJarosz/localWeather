{"version":3,"sources":["main.js"],"names":["coords","lat","calendar","timeClassContainer","dateClassContainer","setDate","ss","now","Date","DD","MM","YY","hh","mm","readyTime","readyDate","dateCont","document","querySelector","innerHTML","timeCont","navigator","getCurrentPosition","pos","crd","latitude","lon","longitude","getData","urlBase","geolocation","data","this","status","displayer","JSON","parse","responseText","xmlhttp","open","serviceUrl","send","d","readyState","src","querySelectorAll","a","classList","remove","weather","icon","description","temp","rh","Math","round","pres","wind_spd","concat","city_name","country_code","forEach"],"mappings":"cAAA,WAAC,IAAAA,EAAY,CAEZC,IAAMD,GACLC,IAAG,IAKJ,SAASC,EAASC,EAAoBC,GAErC,IAAAC,EAqBEC,YArBS,SAAXD,IACC,IAAAE,EAAO,IAAGC,KACVC,EAAMF,EAAGA,UACTG,EAAMH,EAAGA,WAAA,EACTI,EAAMJ,EAAGA,cACTK,EAAML,EAAGA,WACTM,EAAMN,EAAGA,aACTD,EAAMC,EAAGA,aACLE,EAAK,KAATA,EAAA,IAASA,GAERC,EAAA,KAEAA,EAAK,IAAMA,GAAXA,EAAE,KACFE,EAAA,IAAAA,GACDC,EAAM,KACLD,EAAAA,IAAKC,GAKFP,EAAK,KAHTA,EAAA,IAASA,GAER,IAAAQ,EAAAF,EAAA,IAAAC,EAAA,IAAAP,EAKGS,EAAYN,EAAK,IAAMC,EAAK,IAAMC,EALrCK,EAAAC,SAAAC,cAAA,IAAAd,GAAAe,UAAAJ,EAOGK,EAAWH,SAASC,cAAc,IAAMf,GAAoBgB,UAAYL,GAL3E,KAED,SAAIA,IACJO,UAAIN,YAAcO,mBAAF,SAAhBC,GACA,IAAAC,EAAIR,EAAAA,OACJhB,EAAIoB,IAAAA,EAAQK,SACZzB,EA3BD0B,IAAAF,EAAAG,UAqCCC,MARD,SAAAA,IAcA,IAAMC,EAVNR,EAAUS,GAAAA,OAUM,yCAVNA,SAAAA,OAAYR,EAAtBrB,IAAU6B,SAAAA,OAAyCP,EAAKG,IAA9CI,yCAET9B,EAAA,IAAawB,eACbxB,EAAAA,mBAAiB2B,WAEjB,IALDI,EAIQ,GAAPH,KAAAA,YAAO,KAAAI,KAAAC,QAeNC,EAnBFC,KAAAC,MAAAJ,KAAAK,gBAsBAC,EAAQC,KAAK,MAAOC,GAAY,GAdjCF,EAAAG,OAmBA,SAASP,EAAUH,GAXjB,IAAAW,EAAIX,EAAKY,KAAAA,GACRC,EAAIb,SAAWc,iBAAYR,YAE3BH,QAAAA,SAAAY,GACAA,EAAAC,UAAAC,OAAA,aAEFV,SAAOpB,cAAasB,iBAApBI,IAAAN,aAAAA,OAAAI,EAAAO,QAAAC,KAAAZ,QACAA,SAAOpB,cAAP,eAAAC,UAAAuB,EAAAO,QAAAE,YACAlC,SAAAC,cAAA,aAAAC,UAAAuB,EAAAU,KAcAnC,SAASC,cAAc,iBAAiBC,UAAYuB,EAAEW,GAdtDpC,SAAAC,cAAA,cAAAC,UAAAmC,KAAAC,MAAAb,EAAAc,MAEDvC,SAAAC,cAAA,aAAAC,UAAAmC,KAAAC,MAAAb,EAAAe,UACAxC,SAASiB,cAAT,SAAyBf,UAAzB,GAAAuC,OAAyBhB,EAAAiB,UAAzB,MAAAD,OAAyBhB,EAAAkB,cAIxBhB,EAAIiB,OAAQ,QACXf,IA3EH","file":"main.js","sourcesContent":["(function () {\r\n\r\n\tconst coords = {\r\n\t\tlat: '',\r\n\t\tlon: ''\r\n\t};\r\n\r\n\t/*------------------------------------------------------------------------*/\r\n\tfunction calendar(timeClassContainer, dateClassContainer) {\r\n\r\n\t\tlet setDate = function () {\r\n\t\t\tlet now = new Date();\r\n\t\t\tlet DD = now.getDate();\r\n\t\t\tlet MM = now.getMonth() + 1;\r\n\t\t\tlet YY = now.getFullYear();\r\n\t\t\tlet hh = now.getHours();\r\n\t\t\tlet mm = now.getMinutes();\r\n\t\t\tlet ss = now.getSeconds();\r\n\t\t\tif (DD < 10) {\r\n\t\t\t\tDD = \"0\" + DD;\r\n\t\t\t}\r\n\t\t\tif (MM < 10) {\r\n\t\t\t\tMM = \"0\" + MM;\r\n\t\t\t}\r\n\t\t\tif (hh < 10) {\r\n\t\t\t\thh = \"0\" + hh;\r\n\t\t\t}\r\n\t\t\tif (mm < 10) {\r\n\t\t\t\tmm = \"0\" + mm\r\n\t\t\t};\r\n\t\t\tif (ss < 10) {\r\n\t\t\t\tss = \"0\" + ss\r\n\t\t\t};\r\n\t\t\tlet readyTime = hh + ':' + mm + ':' + ss;\r\n\t\t\tlet readyDate = DD + '.' + MM + '.' + YY;\r\n\t\t\tlet dateCont = document.querySelector('.' + dateClassContainer).innerHTML = readyDate;\r\n\t\t\tlet timeCont = document.querySelector('.' + timeClassContainer).innerHTML = readyTime;\r\n\t\t}\r\n\t\tsetInterval(setDate, 1000);\r\n\t};\r\n\r\n\t/*------------------------------------------------------------------------*/\r\n\tfunction getCoordinates() {\r\n\t\tnavigator.geolocation.getCurrentPosition(function (pos) {\r\n\t\t\tlet crd = pos.coords;\r\n\t\t\tcoords.lat = crd.latitude;\r\n\t\t\tcoords.lon = crd.longitude;\r\n\t\t\tgetData();\r\n\t\t});\r\n\t};\r\n\t/*------------------------------------------------------------------------*/\r\n\tfunction getData() {\r\n\r\n\t\tconst urlBase = 'https://api.weatherbit.io/v2.0/current';\r\n\r\n\t\tlet serviceUrl = `${urlBase}?lat=${coords.lat}&lon=${coords.lon}&key=0a139ed8e06e4e6189c6a12846622f67`;\r\n\r\n\t\tlet xmlhttp = new XMLHttpRequest();\r\n\t\txmlhttp.onreadystatechange = function () {\r\n\t\t\tif (this.readyState == 4 && this.status == 200) {\r\n\t\t\t\tlet data = JSON.parse(this.responseText);\r\n\r\n\t\t\t\tdisplayer(data);\r\n\t\t\t}\r\n\t\t};\r\n\t\txmlhttp.open(\"get\", serviceUrl, true);\r\n\t\txmlhttp.send();\r\n\t};\r\n\r\n\t/*------------------------------------------------------------------------*/\r\n\tfunction displayer(data) {\r\n\r\n\t\tconst d = data.data[0];\r\n\t\tconst src = document.querySelectorAll('.kreciol');\r\n\t\tsrc.forEach(function (a) {\r\n\t\t\ta.classList.remove(\"kreciol\");\r\n\t\t})\r\n\r\n\t\tdocument.querySelector('.cond-img img').src = `img/icons/${d.weather.icon}.png`;\r\n\t\tdocument.querySelector('.cond-descr').innerHTML = d.weather.description;\r\n\t\tdocument.querySelector('.val-temp').innerHTML = d.temp;\r\n\t\tdocument.querySelector('.val-humidity').innerHTML = d.rh;\r\n\t\tdocument.querySelector('.val-press').innerHTML = Math.round(d.pres);\r\n\t\tdocument.querySelector('.val-wind').innerHTML = Math.round(d.wind_spd);\r\n\r\n\t\tdocument.querySelector('.city').innerHTML = `${d.city_name}, ${d.country_code}`\r\n\t};\r\n\r\n\tcalendar('time', 'date');\r\n\tgetCoordinates();\r\n})()"]}