{"version":3,"sources":["main.js"],"names":["coords","lat","lon","serviceUrl","timeClassContainer","dateClassContainer","setDate","setInterval","now","calendar","DD","getDate","MM","getMonth","YY","hh","mm","ss","readyTime","dateCont","document","querySelector","innerHTML","readyDate","timeCont","getCoordinates","navigator","geolocation","getCurrentPosition","pos","crd","latitude","longitude","getData","urlBase","concat","xmlhttp","readyState","status","displayer","JSON","parse","this","responseText","open","send","data","onreadystatechange","src","forEach","d","weather","icon","description","temp","rh","Math","round","pres","wind_spd","city","country","location","querySelectorAll"],"mappings":"cAAA,WACC,IAAIA,EAAS,CADbC,IAAA,GACAC,IAAIF,IAEHE,EAED,SAAIC,EAAJC,EAAAC,GAIC,IAAIC,EA4BJC,YA5Bc,SAAVD,IAFL,IAAAE,EAASC,IAAAA,KAERC,EAAIJ,EAAOK,UACVC,EAAIJ,EAAMK,WAAV,EACAC,EAAMN,EAAGA,cACTO,EAAMP,EAAGA,WACTQ,EAAMR,EAAGA,aACTS,EAAMT,EAAGA,aACTE,EAAM,KACNA,EAAA,IAASF,GACTI,EAAM,KACLF,EAAAA,IAAKE,GAKFG,EAAK,KAHTA,EAAA,IAASA,GAERC,EAAA,KAKAA,EAAK,IAAMA,GAHXD,EAAE,KACFE,EAAA,IAAAA,GACD,IAAAC,EAAaH,EAAA,IAAAC,EAAA,IAAAC,EACZD,EAAWA,EAAX,IAAAJ,EAAA,IAAAE,EACAK,EAAAC,SAAAC,cAAA,IAAAhB,GAAAiB,UAAAC,EAOGC,EAAWJ,SAASC,cAAc,IAAMjB,GAAoBkB,UAAYJ,GAExD,KAItB,SAASO,IAVNC,UAAAC,YAAAC,mBAAA,SAAAC,GACD,IAAAC,EAAIZ,EAAAA,OACJlB,EAAIuB,IAAAA,EAASQ,SACb/B,EAAImB,IAAAA,EAAQa,UACZC,MAGD,SAAAA,IAAA,IAAAC,EAgBA/B,EAAU,GAAAgC,OAhBV,yCAgBU,SAAAA,OAAqBnC,EAAOC,IAA5B,SAAAkC,OAAuCnC,EAAOE,IAA9C,yCAXT,IAAAkC,EAAUP,IAAI7B,eACdA,EAAAA,mBAAA,WAEAiC,IAAAA,EADiBD,GAAjBhC,KAAMqC,YAAN,KAAiBL,KAAjBM,QAGDC,EAFQC,KAAAC,MAAAC,KAAAC,gBAGTP,EAAAQ,KAAA,MAAAzC,GAAA,GAiBCiC,EAAQS,OATR,SAAIT,EAAUU,GACdV,IAAAA,EAAQW,EAAAA,KAAAA,GACPC,EAAI5B,SAAKiB,iBAAwBC,YAChCW,QAAIH,SAAYL,GAEhBF,EAAAA,UAAAA,OAAS,aAGXH,SAAOf,cAAalB,iBAApB6C,IAAAZ,aAAAA,OAAAc,EAAAC,QAAAC,KAAAhB,QACAA,SAAOf,cAAP,eAAAC,UAAA4B,EAAAC,QAAAE,YACAjC,SAAAC,cAAA,aAAAC,UAAA4B,EAAAI,KAeAlC,SAASC,cAAc,iBAAiBC,UAAY4B,EAAEK,GAftDnC,SAAAC,cAAA,cAAAC,UAAAkC,KAAAC,MAAAP,EAAAQ,MAEDtC,SAAAC,cAAA,aAAAC,UAAAkC,KAAAC,MAAAP,EAAAS,UACA,IAAAC,EAECC,EACAC,EAHQvB,EAAAA,UAGawB,KADPb,EAACJ,aAEfE,SAAIC,cAAQ,SAAa3B,UAAAwC,GA1E3B","file":"main.js","sourcesContent":["(function () {\r\n\tlet coords = {\r\n\t\tlat: '',\r\n\t\tlon: ''\r\n\t};\r\n\tlet serviceUrl;\r\n\t/*------------------------------------------------------------------------*/\r\n\tfunction calendar(timeClassContainer, dateClassContainer) {\r\n\r\n\t\tlet setDate = function () {\r\n\t\t\tlet now = new Date();\r\n\t\t\tlet DD = now.getDate();\r\n\t\t\tlet MM = now.getMonth() + 1;\r\n\t\t\tlet YY = now.getFullYear();\r\n\t\t\tlet hh = now.getHours();\r\n\t\t\tlet mm = now.getMinutes();\r\n\t\t\tlet ss = now.getSeconds();\r\n\t\t\tif (DD < 10) {\r\n\t\t\t\tDD = \"0\" + DD;\r\n\t\t\t}\r\n\t\t\tif (MM < 10) {\r\n\t\t\t\tMM = \"0\" + MM;\r\n\t\t\t}\r\n\t\t\tif (hh < 10) {\r\n\t\t\t\thh = \"0\" + hh;\r\n\t\t\t}\r\n\t\t\tif (mm < 10) {\r\n\t\t\t\tmm = \"0\" + mm\r\n\t\t\t};\r\n\t\t\tif (ss < 10) {\r\n\t\t\t\tss = \"0\" + ss\r\n\t\t\t};\r\n\t\t\tlet readyTime = hh + ':' + mm + ':' + ss;\r\n\t\t\tlet readyDate = DD + '.' + MM + '.' + YY;\r\n\t\t\tlet dateCont = document.querySelector('.' + dateClassContainer).innerHTML = readyDate;\r\n\t\t\tlet timeCont = document.querySelector('.' + timeClassContainer).innerHTML = readyTime;\r\n\t\t}\r\n\t\tsetInterval(setDate, 1000);\r\n\t};\r\n\r\n\t/*------------------------------------------------------------------------*/\r\n\tfunction getCoordinates() {\r\n\t\tnavigator.geolocation.getCurrentPosition(function (pos) {\r\n\t\t\tlet crd = pos.coords;\r\n\t\t\tcoords.lat = crd.latitude;\r\n\t\t\tcoords.lon = crd.longitude;\r\n\t\t\tgetData();\r\n\t\t});\r\n\t};\r\n\t/*------------------------------------------------------------------------*/\r\n\tfunction getData() {\r\n\r\n\t\tconst urlBase = 'https://api.weatherbit.io/v2.0/current';\r\n\r\n\t\tserviceUrl = `${urlBase}?lat=${coords.lat}&lon=${coords.lon}&key=0a139ed8e06e4e6189c6a12846622f67`;\r\n\r\n\r\n\t\tlet xmlhttp = new XMLHttpRequest();\r\n\t\txmlhttp.onreadystatechange = function () {\r\n\t\t\tif (this.readyState == 4 && this.status == 200) {\r\n\t\t\t\tlet data = JSON.parse(this.responseText);\r\n\r\n\t\t\t\tdisplayer(data);\r\n\t\t\t}\r\n\t\t};\r\n\t\txmlhttp.open(\"get\", serviceUrl, true);\r\n\t\txmlhttp.send();\r\n\t};\r\n\r\n\t/*------------------------------------------------------------------------*/\r\n\tfunction displayer(data) {\r\n\r\n\t\tconst d = data.data[0];\r\n\t\tconst src = document.querySelectorAll('.kreciol');\r\n\t\tsrc.forEach(function (a) {\r\n\t\t\ta.classList.remove(\"kreciol\");\r\n\t\t})\r\n\r\n\r\n\t\tdocument.querySelector('.cond-img img').src = `img/icons/${d.weather.icon}.png`;\r\n\t\tdocument.querySelector('.cond-descr').innerHTML = d.weather.description;\r\n\t\tdocument.querySelector('.val-temp').innerHTML = d.temp;\r\n\t\tdocument.querySelector('.val-humidity').innerHTML = d.rh;\r\n\t\tdocument.querySelector('.val-press').innerHTML = Math.round(d.pres);\r\n\t\tdocument.querySelector('.val-wind').innerHTML = Math.round(d.wind_spd);\r\n\r\n\t\tlet city = d.city_name;\r\n\t\tlet country = d.country_code;\r\n\t\tlet location = city + ', ' + country;\r\n\t\tdocument.querySelector('.city').innerHTML = location;\r\n\t};\r\n\t// calendar('time', 'date');\r\n\t// getCoordinates();\r\n})()"]}