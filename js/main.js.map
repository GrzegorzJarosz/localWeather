{"version":3,"sources":["main.js"],"names":["coords","lat","lon","calendar","getCoordinates","navigator","geolocation","getCurrentPosition","pos","crd","readyTime","readyDate","latitude","dateCont","longitude","getData","urlBase","serviceUrl","this","status","data","JSON","parse","responseText","displayer","xmlhttp","onreadystatechange","d","querySelectorAll","forEach","a","classList","remove","document","querySelector","src","concat","weather","icon","innerHTML","description","temp","rh","Math","round","pres","wind_spd","location","city_name","timeClassContainer","dateClassContainer","setDate","setInterval","Date","DD","getDate","MM","now","getMonth","YY","hh","mm","ss","timeCont"],"mappings":"cAAA,WACC,IAAIA,EAAS,CADbC,IAAA,GACAC,IAAIF,IAEHE,EAEDC,EAoCIC,EAAiB,SAAjBA,IAVDC,UAAAC,YAAAC,mBAAA,SAAAC,GACD,IAAAC,EAAIC,EAAAA,OACJV,EAAIW,IAAAA,EAASC,SACbZ,EAAIa,IAAAA,EAAQC,UACZC,OA5BFA,EAAA,SAAAA,IA6CC,IAAMC,EAXPC,EAAIb,GAAAA,OAWa,yCAXbA,SAAAA,OAAAA,EAAAA,IAAAA,SAAAA,OAA6BJ,EAAAE,IAA7BE,yCAGFJ,IAAAA,EAAA,IAAaS,eACbT,EAAAA,mBAAiBc,WACjBC,GAAO,GAAPA,KAAAA,YAAO,KAAAG,KAAAC,OAAA,CACP,IALDC,EAAAC,KAAAC,MAAAJ,KAAAK,cAODC,EAAAJ,KACAK,EAAIV,KAAO,MAAGE,GAAA,GAEbQ,EAAMT,QAMNS,EAAQC,SAARD,EAAQC,GAEN,IAAAC,EAAIP,EAAIA,KAAGC,GAEXG,EAAAA,SAAAI,iBAAA,YACAC,QAAA,SAAAC,GACDA,EANDC,UAAAC,OAAA,aASAC,SAjBDC,cAAA,iBAAAC,IAiBC,aAAAC,OAjBDT,EAAAU,QAAAC,KAiBC,QAEDL,SAAAC,cAAA,eAAAK,UAAAZ,EAAAU,QAAAG,YAYCP,SAASC,cAAc,aAAaK,UAAYZ,EAAEc,KAClDR,SAASC,cAAc,iBAAiBK,UAAYZ,EAAEe,GAZvDT,SAAIT,cAAY,cAAUJ,UAAMuB,KAAAC,MAAAjB,EAAAkB,MAE/BZ,SAAOC,cAAP,aAAAK,UAAAI,KAAAC,MAAAjB,EAAAmB,UAEAX,IAAAA,EACCL,EADDiB,EAAIlB,EAAJmB,UAAA,KACGjB,EAAUC,aAIbC,SAAAA,cAASC,SAAcK,UAAiBJ,IA1EzC,SAAAhC,EAAA8C,EAAAC,GAIC,IAAIC,EA4BJC,YA5Bc,SAAVD,IAFL,IAAIhD,EAAAA,IAAWkD,KAEdC,EAAIH,EAAOI,UACVC,EAAIC,EAAMC,WAAV,EACAC,EAAMF,EAAGA,cACTG,EAAMH,EAAGA,WACTI,EAAMJ,EAAGA,aACTK,EAAML,EAAGA,aACTH,EAAM,KACNA,EAAA,IAASG,GACTD,EAAM,KACLF,EAAAA,IAAKE,GAKFI,EAAK,KAHTA,EAAA,IAASA,GAERC,EAAA,KAKAA,EAAK,IAAMA,GAHXD,EAAE,KACFE,EAAA,IAAAA,GACD,IAAApD,EAAakD,EAAA,IAAAC,EAAA,IAAAC,EACZD,EAAWA,EAAX,IAAAL,EAAA,IAAAG,EACA9C,EAAAoB,SAAAC,cAAA,IAAAgB,GAAAX,UAAA5B,EAOGoD,EAAW9B,SAASC,cAAc,IAAMe,GAAoBV,UAAY7B,GAExD,MA4CrBuB,CAAAA,OAASC,QACTD,IAlFF","file":"main.js","sourcesContent":["(function () {\r\n\tlet coords = {\r\n\t\tlat: '',\r\n\t\tlon: ''\r\n\t};\r\n\tlet serviceUrl;\r\n\t/*------------------------------------------------------------------------*/\r\n\tlet calendar = function (timeClassContainer, dateClassContainer) {\r\n\r\n\t\tlet setDate = function () {\r\n\t\t\tlet now = new Date();\r\n\t\t\tlet DD = now.getDate();\r\n\t\t\tlet MM = now.getMonth() + 1;\r\n\t\t\tlet YY = now.getFullYear();\r\n\t\t\tlet hh = now.getHours();\r\n\t\t\tlet mm = now.getMinutes();\r\n\t\t\tlet ss = now.getSeconds();\r\n\t\t\tif (DD < 10) {\r\n\t\t\t\tDD = \"0\" + DD;\r\n\t\t\t}\r\n\t\t\tif (MM < 10) {\r\n\t\t\t\tMM = \"0\" + MM;\r\n\t\t\t}\r\n\t\t\tif (hh < 10) {\r\n\t\t\t\thh = \"0\" + hh;\r\n\t\t\t}\r\n\t\t\tif (mm < 10) {\r\n\t\t\t\tmm = \"0\" + mm\r\n\t\t\t};\r\n\t\t\tif (ss < 10) {\r\n\t\t\t\tss = \"0\" + ss\r\n\t\t\t};\r\n\t\t\tlet readyTime = hh + ':' + mm + ':' + ss;\r\n\t\t\tlet readyDate = DD + '.' + MM + '.' + YY;\r\n\t\t\tlet dateCont = document.querySelector('.' + dateClassContainer).innerHTML = readyDate;\r\n\t\t\tlet timeCont = document.querySelector('.' + timeClassContainer).innerHTML = readyTime;\r\n\t\t}\r\n\t\tsetInterval(setDate, 1000);\r\n\t};\r\n\r\n\t/*------------------------------------------------------------------------*/\r\n\tlet getCoordinates = function () {\r\n\t\tnavigator.geolocation.getCurrentPosition(function (pos) {\r\n\t\t\tlet crd = pos.coords;\r\n\t\t\tcoords.lat = crd.latitude;\r\n\t\t\tcoords.lon = crd.longitude;\r\n\t\t\tgetData();\r\n\t\t});\r\n\t};\r\n\t/*------------------------------------------------------------------------*/\r\n\tlet getData = function () {\r\n\r\n\t\tconst urlBase = 'https://api.weatherbit.io/v2.0/current';\r\n\r\n\t\tserviceUrl = `${urlBase}?lat=${coords.lat}&lon=${coords.lon}&key=0a139ed8e06e4e6189c6a12846622f67`;\r\n\r\n\r\n\t\tlet xmlhttp = new XMLHttpRequest();\r\n\t\txmlhttp.onreadystatechange = function () {\r\n\t\t\tif (this.readyState == 4 && this.status == 200) {\r\n\t\t\t\tlet data = JSON.parse(this.responseText);\r\n\r\n\t\t\t\tdisplayer(data);\r\n\t\t\t}\r\n\t\t};\r\n\t\txmlhttp.open(\"get\", serviceUrl, true);\r\n\t\txmlhttp.send();\r\n\t};\r\n\r\n\t/*------------------------------------------------------------------------*/\r\n\tlet displayer = function (data) {\r\n\r\n\t\tconst d = data.data[0];\r\n\t\tconst src = document.querySelectorAll('.kreciol');\r\n\t\tsrc.forEach(function (a) {\r\n\t\t\ta.classList.remove(\"kreciol\");\r\n\t\t})\r\n\r\n\r\n\t\tdocument.querySelector('.cond-img img').src = `img/icons/${d.weather.icon}.png`;\r\n\t\tdocument.querySelector('.cond-descr').innerHTML = d.weather.description;\r\n\t\tdocument.querySelector('.val-temp').innerHTML = d.temp;\r\n\t\tdocument.querySelector('.val-humidity').innerHTML = d.rh;\r\n\t\tdocument.querySelector('.val-press').innerHTML = Math.round(d.pres);\r\n\t\tdocument.querySelector('.val-wind').innerHTML = Math.round(d.wind_spd);\r\n\r\n\t\tlet city = d.city_name;\r\n\t\tlet country = d.country_code;\r\n\t\tlet location = city + ', ' + country;\r\n\t\tdocument.querySelector('.city').innerHTML = location;\r\n\t};\r\n\tcalendar('time', 'date');\r\n\tgetCoordinates();\r\n})()"]}