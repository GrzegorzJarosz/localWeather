{"version":3,"sources":["main.js"],"names":["coords","lat","lon","timeClassContainer","dateClassContainer","serviceUrl","MM","now","Date","DD","getDate","calendar","getMonth","setDate","getFullYear","hh","getHours","mm","ss","YY","getMinutes","getSeconds","readyTime","dateCont","document","querySelector","innerHTML","readyDate","timeCont","navigator","geolocation","getCurrentPosition","pos","crd","latitude","longitude","getData","concat","xmlhttp","XMLHttpRequest","onreadystatechange","this","status","displayer","open","setInterval","data","forEach","a","classList","remove","src","current_observation","icon_url","weather","temp_c","relative_humidity","pressure_mb","Math","round","wind_mph","city","location","observation_location","split","readyState","country","parse","responseText","getCoordinates"],"mappings":"aACA,IAAIA,OAAS,CAACC,IAAI,GAAIC,IAAI,IAAtBF,WAAkBE,SAAI,SAAJA,EAAIC,EAAAC,GAC1B,IAAIC,EAaSC,YAbb,SAAID,IACJ,IAAAE,EAAA,IAAAC,KAKMC,EAAKF,EAAIG,UAJXC,EAAAA,EAAWC,WAAXD,EAECE,EAAAA,EAAOC,cACVC,EAAOR,EAAGS,WACVC,EAAMV,EAAGA,aACTW,EAAMX,EAAGA,aACTE,EAAIU,KAAKZ,EAAIO,IAAAA,GACbR,EAAIS,KAAKR,EAAIS,IAAAA,GACbD,EAAIE,KAAKV,EAAIa,IAAAA,GACbH,EAAIC,KAAKX,EAAIc,IAAAA,GAKTH,EAAG,KAAIA,EAAK,IAAIA,GAJpB,IAAAI,EAAUP,EAAA,IAAAE,EAAA,IAAAC,EAACT,EAASA,EAAT,IAAAH,EAAA,IAAAa,EAAaI,EAAAC,SAAAC,cAAA,IAAArB,GAAAsB,UAAAC,EAQpBC,EAAWJ,SAASC,cAAc,IAAItB,GAAoBuB,UAAUJ,GAP7D,MACAP,eAAA,SAAAA,IAAac,UAAAC,YAAAC,mBAAA,SAAAC,GAcxB,IAAIC,EAAMD,EAAIhC,OAbdA,OAAIiB,IAAJgB,EAAUC,SAACjB,OAAEf,IAAG+B,EAALE,UAAYC,aACvBA,QAAO,SAAPA,IAAWlB,WAAK,0EAAAmB,OAALrC,OAAAC,IAAK,KAAAoC,OAALrC,OAAAE,IAAK,SAsBjB,IAAIoC,EAAU,IAAIC,eAtBMD,EAAAE,mBAAA,WACvB,GAAmB,GAAnBC,KAAInB,YAAJ,KAAuBL,KAAGyB,OAA1B,CACA,IAAIf,EAAAA,KAAYlB,MAAGgC,KAAInC,cACvBqC,UAAIpB,KA0BLe,EAAQM,KAAK,MAAOvC,YAAY,GAvBjCwC,EAAAA,QA4BIF,UAAY,SAAZA,EAAqBG,GAvBxBjB,IAAAA,EAASL,SAACM,iBAAYC,YACrBgB,QAAO,SAAO/C,GAAdgD,EAAAC,UAAAC,OAAA,aAGAd,IAAAA,EAAO,OALTZ,SAAAC,cAAA,iBAAA0B,IAAAL,EAAAM,oBAAAC,SAQA7B,SAAAC,cAAA,eAAAC,UAAAoB,EAAAM,oBAAAE,QA0BC9B,SAASC,cAAc,aAAaC,UAAYoB,EAAKM,oBAAoBG,OACzE/B,SAASC,cAAc,iBAAiBC,UAAYoB,EAAKM,oBAAoBI,kBA1B9EhC,SAAIY,cAAAA,cAAoBV,UAAAoB,EAAAM,oBAAAK,YACvBpD,SAAAA,cAAU,aAAAqB,UAAAgC,KAAAC,MAAAb,EAAAM,oBAAAQ,SAA4E5D,GA6BtF,IAAI6D,EA1BJvB,EACEwB,EAyBShB,EAAKM,oBAAoBW,qBAAqBF,KAAKG,MAAM,IAAI,GAzB7DC,KADHzB,EAAAA,oBAAqBuB,qBAAWG,QAEpC1C,SAAIsB,cAAYqB,SAAWC,UAAhBN,GAEVnD,SAAA,OAAA,QACJ0D","file":"main.js","sourcesContent":["\r\nvar coords = {lat:'', lon:''};\r\nvar serviceUrl;\r\n/*------------------------------------------------------------------------*/\r\nvar calendar = function(timeClassContainer,dateClassContainer){\r\n\r\n\tvar setDate = function(){\r\n\t\tvar now = new Date();\r\n\t\tvar DD = now.getDate();\r\n\t\tvar MM = now.getMonth()+1;\r\n\t\tvar YY = now.getFullYear();\r\n\t\tvar hh = now.getHours();\r\n\t\tvar mm = now.getMinutes();\r\n\t\tvar ss = now.getSeconds();\r\n\t\tif (DD<10){DD = \"0\"+DD;}\r\n\t\tif (MM<10){MM = \"0\"+MM;}\r\n\t\tif (hh<10){hh = \"0\"+hh;}\r\n\t\tif (mm<10){mm = \"0\"+mm};\r\n\t\tif (ss<10){ss = \"0\"+ss};\r\n\t\tvar readyTime = hh+':'+mm+':'+ss;\r\n\t\tvar readyDate = DD+'.'+MM+'.'+YY;\r\n\t\tvar dateCont = document.querySelector('.'+dateClassContainer).innerHTML=readyDate;\r\n\t\tvar timeCont = document.querySelector('.'+timeClassContainer).innerHTML=readyTime;\r\n\t}\r\nsetInterval(setDate,1000);\r\n};\r\n\r\n/*------------------------------------------------------------------------*/\r\nvar getCoordinates = function(){\r\n\tnavigator.geolocation.getCurrentPosition(function(pos){\r\n\t\tvar crd = pos.coords;\r\n\t\tcoords.lat = crd.latitude;\r\n\t\tcoords.lon = crd.longitude;\r\n\t\tgetData();\r\n\t});\r\n};\r\n/*------------------------------------------------------------------------*/\r\nvar getData = function(){\r\n\tserviceUrl =`https://api.wunderground.com/api/899e303598994b68/conditions/lang:PL/q/${coords.lat},${coords.lon}.json`;\r\n\r\n\tvar xmlhttp = new XMLHttpRequest();\r\n\txmlhttp.onreadystatechange = function() {\r\n\t\t if (this.readyState == 4 && this.status == 200) {\r\n\t\t\t  var data = JSON.parse(this.responseText);\r\n\t\t\t  displayer(data);\r\n\t\t   }\r\n\t};\r\n\txmlhttp.open(\"get\", serviceUrl, true);\r\n\txmlhttp.send();\r\n};\r\n\r\n/*------------------------------------------------------------------------*/\r\nvar displayer = function(data){\r\n\r\n\tvar src = document.querySelectorAll('.kreciol');\r\n\tsrc.forEach(function(a){a.classList.remove(\"kreciol\");})\r\n\r\n\t//mph to mps convert\r\n\tvar toMpsFactor = 0.44704;\r\n\r\n\tdocument.querySelector('.cond-img img').src = data.current_observation.icon_url;\r\n\tdocument.querySelector('.cond-descr').innerHTML = data.current_observation.weather;\r\n\tdocument.querySelector('.val-temp').innerHTML = data.current_observation.temp_c;\r\n\tdocument.querySelector('.val-humidity').innerHTML = data.current_observation.relative_humidity;\r\n\tdocument.querySelector('.val-press').innerHTML = data.current_observation.pressure_mb;\r\n\tdocument.querySelector('.val-wind').innerHTML = Math.round(data.current_observation.wind_mph * toMpsFactor);\r\n\r\n\tvar city = data.current_observation.observation_location.city.split(',',1);\r\n\tvar country = data.current_observation.observation_location.country\r\n\tvar location = city +', '+ country;\r\n\tdocument.querySelector('.city').innerHTML = location;\r\n};\r\ncalendar('time','date');\r\ngetCoordinates();\r\n"]}